"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(t):t.Select=e(t)}("undefined"!=typeof global?global:window||(void 0).window||(void 0).global,function(t){function e(t){this.selectEl=t.selector,this.callBack=t.callBack,this.text=null,this.listWrapper=null,this.select=document.querySelector(this.selectEl),function(t,e,l){var c=this;(function(t){document.querySelector(t).style.display="none"})(t),this.newSelect=document.createElement("DIV"),this.newSelect.className=n.newSelectClass,e.forEach(function(t){this.newSelect.setAttribute("data-"+t.name,t.value)},this),this.button=document.createElement("A"),this.button.className=n.buttonClass,this.button.href="/",this.text=document.createElement("SPAN"),this.text.className=n.textClass,this.icon=document.createElement("SPAN"),this.icon.className=n.iconClass,this.listWrapper=document.createElement("DIV"),this.listWrapper.className=n.listWrapperClass,this.list=document.createElement("UL"),this.list.className=n.listClass,l.forEach(function(e,l){c.listItem=document.createElement("LI"),c.listItem.className=n.listItemClass,c.listItem.textContent=s(t)[l],e.length?e.forEach(function(e){"selected"===e.value&&(c.listItem.classList.add(n.listItemSelectedClass),c.text.textContent=s(t)[l]),c.listItem.setAttribute("data-"+e.name,e.value)}):l||(c.listItem.classList.add(n.listItemSelectedClass),c.listItem.setAttribute("data-selected","selected"),c.text.textContent=s(t)[l]),c.list.appendChild(c.listItem)}),this.button.appendChild(this.text),this.button.appendChild(this.icon),this.listWrapper.appendChild(this.list),this.newSelect.appendChild(this.button),this.newSelect.appendChild(this.listWrapper),document.querySelector(t).parentElement.appendChild(this.newSelect)}.apply(this,[this.selectEl,function(t){return Array.prototype.slice.call(document.querySelector(t).attributes)}(this.selectEl),function(t){return Array.prototype.slice.call(document.querySelector(t).children).map(function(t){return Array.prototype.slice.call(t.attributes)})}(this.selectEl)]),function(){var t=this;this.newSelect.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),e.target.closest(".select")&&(e.target.closest(".select").classList.contains("select--open")?l.call(t):function(){var t=Array.prototype.slice.call(document.getElementsByClassName("select--open"));t.length&&t.forEach(function(t){t.classList.remove("select--open")});this.newSelect.classList.add("select--open"),document.body.addEventListener("click",c)}.call(t)),e.target.closest(".select__item")&&function(t){l.call(this),this.callBack&&function(t,e){t({el:e,value:function(t){return t.getAttribute("data-value")}(e)})}.apply(this,[this.callBack,t.target.closest(".select__item")]);(function(t){var e=t.target.closest(".select__item"),s=e.parentElement.querySelector("."+n.listItemSelectedClass);s.classList.remove(n.listItemSelectedClass),s.removeAttribute("data-selected"),e.classList.add(n.listItemSelectedClass),e.setAttribute("data-selected","selected")}).call(this,t),this.text.textContent=t.target.closest(".select__item").textContent,this.select.value=t.target.closest(".select__item").getAttribute("data-value")}.call(t,e)})}.call(this)}function s(t){return Array.prototype.slice.call(document.querySelector(t).children).map(function(t){return t.textContent})}function l(){this.newSelect.classList.remove("select--open"),document.body.removeEventListener("click",c)}function c(){var t=document.getElementsByClassName("select--open")[0]?document.getElementsByClassName("select--open")[0]:null;t&&t.classList.remove("select--open"),document.body.removeEventListener("click",c)}Element.prototype.closest||function(t){t.matches=t.matches||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector,t.closest=t.closest||function(t){return this?this.matches(t)?this:this.parentElement?this.parentElement.closest(t):null:null}}(Element.prototype),window.Select=e||{};var n={newSelectClass:"select",buttonClass:"select__title",textClass:"select__text",iconClass:"select__icon",listWrapperClass:"select__wrapper",listClass:"select__list",listItemClass:"select__item",listItemSelectedClass:"select__item--selected"};return e});